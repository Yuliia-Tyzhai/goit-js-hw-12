{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = (imgInfo) => {\n    return `<li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\"> <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" /></a>\n           <div class=\"gallery-info\">\n                <p class=\"likes\">Likes <span>${imgInfo.likes}</span></p>\n                <p class=\"views\">Views <span>${imgInfo.views}</span></p>\n                <p class=\"comments\">Comments <span>${imgInfo.comments}</span></p>\n                <p class=\"downloads\">Downloads <span>${imgInfo.downloads}</span></p>\n            </div>    \n            </li>`;\n}","const BASE_URL = 'https://pixabay.com/api/';\n\n\nexport const fetchPhotos = searchedQuery => {\n    const urlParams = new URLSearchParams({\n        key: '32552782-0d4c86680018457e820f20492',\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    console.log(urlParams.toString());\n\n    return fetch(`${BASE_URL}?${urlParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n};","import axios from \"axios\";\naxios.get('/users')\n  .then(res => {\n    console.log(res.data);\n  });\n  \n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\nimport { createGalleryCardTemplate } from \"./js/render-functions.js\";\nimport { fetchPhotos } from \"./js/pixabay-api.js\";\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox = new SimpleLightbox('.gallery-link');\n\nconst showLoader = () => {\n  loaderEl.classList.remove('is-hidden');\n};\n\nconst hideLoader = () => {\n  loaderEl.classList.add('is-hidden');\n};\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedValue = searchFormEl.elements.user_query.value.trim();\n      if (!searchedValue) {\n      iziToast.error({\n        message: 'Please enter a search query.',\n        position: 'topRight',\n      });\n      return;\n    }\n     showLoader();\n    fetchPhotos(searchedValue).then(data => {\n        hideLoader();\n        if (data.hits.length === 0) {\n           iziToast.error({\n               message: 'Sorry, there are no images matching your search query. Please try again!',\n               position: 'topRight',\n});\n            galleryEl.innerHTML = '';\n            searchFormEl.reset();\n            return;\n        };\n        const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails)).join('');\n        galleryEl.innerHTML = galleryCardsTemplate;\n        lightbox.refresh();\n    }).catch(err => {\n        hideLoader();\n        console.log(err)\n    })\n};\n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","imgInfo","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","axios","res","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","showLoader","hideLoader","onSearchFormSubmit","event","searchedValue","iziToast","data","galleryCardsTemplate","imgDetails","err"],"mappings":"+vBAAO,MAAMA,EAA6BC,GAC/B;AAAA,oCACyBA,EAAQ,aAAa,oCAAoCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,+CAExFA,EAAQ,KAAK;AAAA,+CACbA,EAAQ,KAAK;AAAA,qDACPA,EAAQ,QAAQ;AAAA,uDACdA,EAAQ,SAAS;AAAA;AAAA,mBCPlEC,EAAW,2BAGJC,EAAcC,GAAiB,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,eAAQ,IAAIC,EAAU,SAAU,CAAA,EAEzB,MAAM,GAAGH,CAAQ,IAAIG,CAAS,EAAE,EAClC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECpBAC,EAAM,IAAI,QAAQ,EACf,KAAKC,GAAO,CACX,QAAQ,IAAIA,EAAI,IAAI,CACxB,CAAG,EAiBH,MAAMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIC,EAAW,IAAIC,EAAe,eAAe,EAEjD,MAAMC,EAAa,IAAM,CACvBH,EAAS,UAAU,OAAO,WAAW,CACvC,EAEMI,EAAa,IAAM,CACvBJ,EAAS,UAAU,IAAI,WAAW,CACpC,EAEMK,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBT,EAAa,SAAS,WAAW,MAAM,OAC3D,GAAI,CAACS,EAAe,CACpBC,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CACAL,IACDX,EAAYe,CAAa,EAAE,KAAKE,GAAQ,CAEpC,GADAL,IACIK,EAAK,KAAK,SAAW,EAAG,CACzBD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACzB,CAAC,EACWT,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MAEZ,CAAQ,MAAMY,EAAuBD,EAAK,KAAK,IAAIE,GAActB,EAA0BsB,CAAU,CAAC,EAAE,KAAK,EAAE,EACvGZ,EAAU,UAAYW,EACtBT,EAAS,QAAO,CACxB,CAAK,EAAE,MAAMW,GAAO,CACZR,IACA,QAAQ,IAAIQ,CAAG,CACvB,CAAK,CACL,EAGAd,EAAa,iBAAiB,SAAUO,CAAkB"}